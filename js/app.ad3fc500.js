(function(t){function e(e){for(var n,s,i=e[0],l=e[1],c=e[2],d=0,f=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},o=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/AlleSpot/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},1868:function(t,e,a){"use strict";var n=a("c02a"),r=a.n(n);r.a},"1d3d":function(t,e,a){t.exports=a.p+"img/default-album-artwork.6bba9800.png"},7173:function(t,e,a){t.exports=a.p+"img/arrow-flat-2.49de542e.png"},c02a:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=a("bc3a"),o=a.n(r),s={},i=o.a.create(s);i.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),i.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t,e){t.axios=i,window.axios=i,Object.defineProperties(t.prototype,{axios:{get:function(){return i}},$axios:{get:function(){return i}}})},n["a"].use(Plugin);Plugin;var l=a("bb71");a("da64");n["a"].use(l["a"],{iconfont:"md",theme:{primary:"#00C853",secondary:"#56595b",accent:"#FFCC80",error:"#b71c1c"}});var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-toolbar",{attrs:{app:"",dark:""}},[a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("span",[a("span",{staticClass:"primary--text"},[t._v("Alle")]),t._v("Spot")]),a("span",{staticClass:"font-weight-light"},[t._v(" - Intership Quest")])]),a("v-spacer"),a("v-btn",{attrs:{flat:"",href:"https://github.com/SuddenlyPineapple",target:"_blank"}},[a("span",{staticClass:"mr-2"},[t._v("GitHub")])])],1),a("v-container",{attrs:{"grid-list-md":""}},[a("v-content",[a("router-view")],1)],1)],1)},u=[],d=a("60a3"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"searchComponent"}},[n("v-text-field",{attrs:{label:"Szukaj albumu...",solo:""},on:{keyup:t.searchAlbums},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},[t._v(" "+t._s(t.query))]),t.query?n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.albums.items,"disable-initial-sort":!0,"rows-per-page-items":[5,10,25,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}]},scopedSlots:t._u([{key:"items",fn:function(e){return[3==e.item.images.length?n("td",[n("img",{attrs:{src:e.item.images[2].url}})]):n("td",[n("img",{attrs:{src:a("1d3d"),height:"64",width:"64"}})]),n("td",[t._v(t._s(e.item.name))]),n("td",[t._v(t._s(e.item.artists[0].name))]),n("td",[t._v(t._s(e.item.total_tracks))]),n("td",[t._v(t._s(e.item.release_date))]),n("td",{staticClass:"text-xs-center"},[n("v-btn",{attrs:{fab:"",small:"",outline:"",color:"success",to:"/album/"+e.item.id}},[n("v-icon",{attrs:{dark:""}},[t._v("fas fa-angle-double-right")])],1)],1)]}}],null,!1,3182426167)}):n("div",[n("v-card-title",{staticClass:"pt-0 less-margin-top"},[n("img",{staticClass:"arrow-position",attrs:{src:a("7173")}}),n("h1",{staticClass:"title"},[t._v("Poszukaj albumu!")])])],1)],1)},p=[],m=(a("e75a"),d["a"].extend({data:function(){return{query:"",headers:[{text:"Okładka",align:"left",sortable:!1,value:"url"},{text:"Album",align:"left",sortable:!0,value:"name"},{text:"Wykonawca",align:"left",sortable:!0,value:"artists[0].name"},{text:"Utwory",align:"left",sortable:!0,value:"total_tracks"},{text:"Data Wydania",align:"left",sortable:!0,value:"release_date"},{text:"Więcej...",align:"left",sortable:!1,value:"Szczegóły"}],albums:{},token:"",display:!1}},methods:{searchAlbums:function(t){var e=this;localStorage.setItem("query",this.query);var a={async:!0,crossDomain:!0,url:"https://api.spotify.com/v1/search?q="+encodeURI(this.query)+"&type=album&limit=50",method:"GET",headers:{Authorization:"Bearer "+this.token}};""!==this.query&&o()(a).then((function(t){e.albums=t.data.albums})).catch((function(t){localStorage.setItem("ACCESS_TOKEN",""),window.location="/"}))}},mounted:function(){var t=localStorage.getItem("query");t&&(this.query=t),this.token=localStorage.getItem("ACCESS_TOKEN"),this.searchAlbums()}})),v=m,h=(a("de25"),a("2877")),b=a("6544"),g=a.n(b),_=a("8336"),y=a("12b2"),x=a("8fea"),w=a("132d"),k=a("2677"),C=Object(h["a"])(v,f,p,!1,null,null,null),S=C.exports;g()(C,{VBtn:_["a"],VCardTitle:y["a"],VDataTable:x["a"],VIcon:w["a"],VTextField:k["a"]});var I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-xs-center",attrs:{id:"welcome"}},[a("h3",[t._v("Zaloguj się do Spotify, by móc przeszukiwać baze albumów!")]),a("v-btn",{attrs:{color:"success"},on:{click:t.handleAuth}},[t._v("ZALOGUJ SIĘ")])],1)},A=[],O=d["a"].extend({name:"Welcome",props:["handleAuth"]}),j=O,T=Object(h["a"])(j,I,A,!1,null,null,null),V=T.exports;g()(T,{VBtn:_["a"]});var E=d["a"].extend({name:"App"}),P=E,q=a("7496"),z=a("a523"),M=a("549c"),N=a("9910"),$=a("71d9"),B=a("2a7f"),U=Object(h["a"])(P,c,u,!1,null,null,null),F=U.exports;g()(U,{VApp:q["a"],VBtn:_["a"],VContainer:z["a"],VContent:M["a"],VSpacer:N["a"],VToolbar:$["a"],VToolbarTitle:B["a"]});var D=a("8c4f"),K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"home"}},[t.token?t._e():a("welcome",{attrs:{handleAuth:t.authIn}}),t.token?a("spotify-search",{attrs:{data:t.data}}):t._e(),t.error?a("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e()],1)},R=[],W=(a("a481"),"270fa00fa8144b2586c366cf69692f13"),G=encodeURIComponent("user-library-read"),H=encodeURIComponent("https://suddenlypineapple.github.io/AlleSpot/"),J="https://accounts.spotify.com/authorize?client_id=".concat(W,"&response_type=token&scope=").concat(G,"&redirect_uri=").concat(H),L=J,Z=d["a"].extend({name:"Home",components:{SpotifySearch:S,Welcome:V},data:function(){return{token:null,error:null,data:null}},created:function(){var t=localStorage.getItem("ACCESS_TOKEN");if(t)this.token=t;else{var e=/[#&]error=/.exec(window.location.hash);e&&(this.error="Error signing in. Please try again later.");var a=/[#&]access_token=([^&]*)/.exec(window.location.hash);if(a){var n=decodeURIComponent(a[1].replace(/\+g/," "));this.token=n;"Bearer ".concat(n);localStorage.setItem("ACCESS_TOKEN",n),window.location.hash=""}}},methods:{authIn:function(){window.location=L}}}),Q=Z,X=Object(h["a"])(Q,K,R,!1,null,null,null),Y=X.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:"","grid-list-md":""}},[null!=t.albumInfo?n("v-layout",{attrs:{row:"",wrap:""}},[n("v-btn",{staticClass:"hidden-sm-and-down top-button",attrs:{color:"primary",dark:"",fab:"",fixed:"",large:"","mr-4":"",to:"/"}},[n("v-icon",{attrs:{dark:""}},[t._v("fas fa-angle-double-left")])],1),n("v-btn",{staticClass:"hidden-md-and-up",attrs:{color:"primary",dark:"",fab:"",fixed:"",left:"",bottom:"",large:"","mr-4":"",to:"/"}},[n("v-icon",{attrs:{dark:""}},[t._v("fas fa-angle-double-left")])],1),n("v-flex",{attrs:{"d-flex":"",xs12:"",md6:""}},[n("v-card",{staticClass:"text-xs-center",attrs:{dark:""}},[n("v-card-text",[t.albumInfo.images.length>2?n("span",[n("img",{attrs:{src:t.albumInfo.images[1].url}})]):n("span",[n("img",{attrs:{src:a("1d3d")}})])])],1)],1),n("v-flex",{attrs:{"d-flex":"",xs12:"",sm12:"",md6:""}},[n("v-card",{attrs:{dark:""}},[n("v-card-title",{staticClass:"title"},[n("h2",{staticClass:"mb-3 mt-3 full-width"},[t._v(t._s(t.albumInfo.name))]),n("h3",{staticClass:"title"},t._l(t.albumInfo.artists,(function(e,a){return n("span",{key:e.id,attrs:{index:a}},[t._v(t._s(e.name)),t.albumInfo.artists.length-1!=a?n("span",[t._v(",")]):t._e()])})),0)]),n("v-card-text",[n("p",{staticClass:"mb-1"},[t._v("Data wydania: "+t._s(t.albumInfo.release_date))]),n("p",[t._v("Liczba utworów: "+t._s(t.albumInfo.total_tracks))])])],1)],1),n("v-flex",{attrs:{"d-flex":"",xs12:""}},[n("v-data-table",{staticClass:"elevation-1",attrs:{dark:"",headers:t.tracksHeaders,items:t.albumInfo.tracks.items,"disable-initial-sort":!0,"rows-per-page-items":[10,25,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}]},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",[t._v(t._s(e.item.name))]),n("td",{staticClass:"text-xs-right"},[t._v(t._s(t.convertMillisToMinsSecs(e.item.duration_ms)))])]}}],null,!1,941830713)})],1)],1):t._e()],1)},et=[],at=d["a"].extend({props:["id"],data:function(){return{token:"",albumInfo:null,tracksHeaders:[{text:"Utwór",align:"left",sortable:!0,value:"name"},{text:"Czas",align:"right",sortable:!0,value:"duration_ms"}]}},created:function(){this.token=localStorage.getItem("ACCESS_TOKEN")},methods:{getAlbumInfo:function(t){var e=this,a={async:!0,crossDomain:!0,url:"https://api.spotify.com/v1/albums/"+encodeURI(this.id),method:"GET",headers:{Authorization:"Bearer "+this.token}};""!==this.query&&axios(a).then((function(t){e.albumInfo=t.data})).catch((function(t){localStorage.setItem("ACCESS_TOKEN",""),window.location="/"}))},convertMillisToMinsSecs:function(t){var e=Math.floor(t/6e4),a=(t%6e4/1e3).toFixed(0),n="".concat(e,":").concat(a<10?"0":"").concat(a);return n}},mounted:function(){this.getAlbumInfo()}}),nt=at,rt=(a("1868"),a("b0af")),ot=a("99d9"),st=a("0e8f"),it=a("a722"),lt=Object(h["a"])(nt,tt,et,!1,null,"e265b0f6",null),ct=lt.exports;g()(lt,{VBtn:_["a"],VCard:rt["a"],VCardText:ot["a"],VCardTitle:y["a"],VContainer:z["a"],VDataTable:x["a"],VFlex:st["a"],VIcon:w["a"],VLayout:it["a"]}),n["a"].use(D["a"]);var ut=new D["a"]({mode:"history",base:"/AlleSpot/",routes:[{path:"/",name:"home",component:Y},{path:"/album/:id",name:"albumInfo",props:!0,component:ct}]}),dt=a("2f62");n["a"].use(dt["a"]);var ft=new dt["a"].Store({state:{},mutations:{},actions:{}}),pt=a("9483");Object(pt["a"])("".concat("/AlleSpot/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),n["a"].config.productionTip=!1,new n["a"]({router:ut,store:ft,render:function(t){return t(F)}}).$mount("#app")},de25:function(t,e,a){"use strict";var n=a("e7c1"),r=a.n(n);r.a},e7c1:function(t,e,a){}});
//# sourceMappingURL=app.ad3fc500.js.map